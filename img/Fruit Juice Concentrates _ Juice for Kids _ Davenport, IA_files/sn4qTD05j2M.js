if (self.CavalryLogger) { CavalryLogger.start_js(["kmx17"]); }

__d("MessengerDiscoveryPluginTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("plugin_logger_route:MessengerDiscoveryPluginLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("plugin_logger_route:MessengerDiscoveryPluginLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("plugin_logger_route:MessengerDiscoveryPluginLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUserFbid=function(a){this.$1.user_fbid=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={app_id:!0,event:!0,name:!0,page_id:!0,time:!0,user_fbid:!0,vc:!0,weight:!0};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/2v2plzJQoTQ/
 */
__d("IntersectionObserverFallback",["FBLogger","TimeSlice","containsNode","getElementRect","performanceNow","setInterval","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=document.documentElement,h=[];function i(a,b){var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left);a=Math.min(a.right,b.right);b=a-e;var f=d-c;return b>=0&&f>=0?{top:c,bottom:d,left:e,right:a,width:b,height:f}:void 0}function j(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}var k=function(a){__p&&__p();this.time=a.time;this.target=a.target;this.rootBounds=a.rootBounds;this.boundingClientRect=a.boundingClientRect;this.intersectionRect=a.intersectionRect||j();this.isIntersecting=!!a.intersectionRect;a=this.boundingClientRect;a=a.width*a.height;var b=this.intersectionRect.width*this.intersectionRect.height;a?this.intersectionRatio=b/a:this.intersectionRatio=this.isIntersecting?1:0};a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this;this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$12=b("TimeSlice").guard(b("throttle")(function(){var a=d.$14(),c=a?d.$15():j();d.$6.forEach(function(e){var f=e.element,g=b("getElementRect")(f),h=d.$16(f),i=e.entry,j=a&&h&&!d.$2&&d.$17(f,c);e=e.entry=new k({time:b("performanceNow")(),target:f,boundingClientRect:g,rootBounds:c,intersectionRect:j});!i?d.$7.push(e):a&&h?d.$18(i,e)&&d.$7.push(e):i&&i.isIntersecting&&d.$7.push(e)});d.$7.length&&d.$1(d.takeRecords(),d)},this.THROTTLE_TIMEOUT),"IntersectionObserverFallback: checkForIntersections");this.$2=!1;try{window.top.document}catch(a){this.$2=!0}c=c||{};this.$1=a;this.$4=!1;this.$6=[];this.$7=[];this.$8=this.$9(c.rootMargin);this.thresholds=this.$10(c.threshold);this.root=c.root||null;this.rootMargin=this.$8.map(function(a){return a.value+a.unit}).join(" ")}var c=a.prototype;c.$10=function(a){a=a||[0];Array.isArray(a)||(a=[a]);return a.sort().filter(function(a,b,c){return a!==c[b-1]})};c.$9=function(a){a=a||"0px";a=a.split(/\s+/).map(function(a){a=/^(-?\d*\.?\d+)(px|%)$/.exec(a);return{value:parseFloat(a[1]),unit:a[2]}});a[1]=a[1]||a[0];a[2]=a[2]||a[0];a[3]=a[3]||a[1];return a};c.$11=function(){this.$4||(this.$4=!0,this.$12(),this.POLL_INTERVAL?this.$5=b("setInterval")(this.$12,this.POLL_INTERVAL):(window.addEventListener("resize",this.$12),document.addEventListener("scroll",this.$12),"MutationObserver"in window&&(this.$3=new MutationObserver(this.$12),this.$3.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};c.$13=function(){this.$4&&(this.$4=!1,this.$5&&(clearInterval(this.$5),this.$5=void 0),window.removeEventListener("resize",this.$12),document.removeEventListener("scroll",this.$12),this.$3&&(this.$3.disconnect(),this.$3=void 0))};c.$17=function(a,c){__p&&__p();var d=window.getComputedStyle(a);if(!d||d.display=="none")return void 0;d=b("getElementRect")(a);d=d;a=a.parentElement;var e=!1;while(!e){var f=null;a==this.root||a&&a.nodeType!=1?(e=!0,f=c):a&&window.getComputedStyle(a).overflow!="visible"&&(f=b("getElementRect")(a));if(f){d=i(f,d);if(!d)break}a=a&&a.parentElement}return d};c.$15=function(){var a;if(this.root)a=b("getElementRect")(this.root);else{var c=document.documentElement,d=document.body,e=c&&c.clientWidth||d&&d.clientWidth;c=c&&c.clientHeight||d&&d.clientHeight;a={top:0,left:0,right:e,width:e,bottom:c,height:c}}return this.$19(a)};c.$19=function(a){var b=this.$8.map(function(b,c){return b.unit=="px"?b.value:b.value*(c%2?a.width:a.height)/100});b={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3],width:0,height:0};b.width=b.right-b.left;b.height=b.bottom-b.top;return b};c.$18=function(a,b){__p&&__p();a=a&&a.isIntersecting?a.intersectionRatio||0:-1;b=b.isIntersecting?b.intersectionRatio||0:-1;if(a===b)return!1;for(var c=0;c<this.thresholds.length;c++){var d=this.thresholds[c];if(d==a||d==b||d<a!==d<b)return!0}return!1};c.$14=function(){return!this.root||b("containsNode")(g,this.root)};c.$16=function(a){var c=this.root||g;return b("containsNode")(c,a)};c.$20=function(){h.indexOf(this)<0&&h.push(this)};c.$21=function(){var a=h.indexOf(this);a!=-1&&h.splice(a,1)};c.observe=function(a){__p&&__p();if(!a){b("FBLogger")("io").warn("IntersectionObserverFallback target does not exist");return}if(this.$6.some(function(b){return b.element==a}))return;this.$20();this.$6.push({element:a,entry:null});this.$11();this.$12()};c.unobserve=function(a){this.$6=this.$6.filter(function(b){return b.element!=a}),this.$6.length||(this.$13(),this.$21())};c.disconnect=function(){this.$6=[],this.$13(),this.$21()};c.takeRecords=function(){var a=this.$7.slice();this.$7=[];return a};return a}();e.exports=a}),null);
__d("IntersectionObserver",["IntersectionObserverFallback"],(function(a,b,c,d,e,f){"use strict";a="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;e.exports=a?window.IntersectionObserver:b("IntersectionObserverFallback")}),null);
__d("MessengerDiscoveryPluginName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHECKBOX_PLUGIN:"checkbox_plugin",SEND_TO_MESSENGER_PLUGIN:"send_to_messenger_plugin"})}),null);
__d("MessengerPrecheckedPluginCheckboxState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHECKED:"checked",UNCHECKED:"unchecked"})}),null);
__d("intersectionObserverEntryIsIntersecting",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.isIntersecting!=null?a.isIntersecting:a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0)}e.exports=a}),null);
__d("PluginMessengerCheckbox",["DOMEvent","DOMEventListener","FormSubmit","IntersectionObserver","MessengerDiscoveryPluginName","MessengerDiscoveryPluginTypedLogger","MessengerPrecheckedPluginCheckboxState","MNCommerceLogger","MNCommerceLoggerEvents","PluginMessage","PluginOptin","UnverifiedXD","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.appID,d=a.checkbox,e=a.dataRef,f=a.form,g=a.notYouLink,h=a.pageID;a.pluginCheckOutOfView;var i=a.pluginStateInput,j=a.prechecked,k=a.shouldPersonalize,l=a.userID,m=a.userRef;a=function(a,c){return b("DOMEventListener").add(a,"click",c)};var n=function(a,c){return b("DOMEventListener").add(a,"change",c)},o=function(a){new(b("DOMEvent"))(a).kill(),new(b("PluginOptin"))("messenger_checkbox").addLoginParams({logged_in:!1,switch_user:!0,page_id:h,app_id:c,connected:!1,is_inapp_browser:!1,show_subtitle:!1}).addReturnParams({source:"messenger_checkbox"}).start(),b("PluginMessage").listen()},p=function(a){return b("UnverifiedXD").send({type:"sdk_event",event:"messenger_checkbox",data:JSON.stringify(a)})},q=function(a){b("MNCommerceLogger").logAuthEvent(c,h,l,a)},r=function(a){b("MNCommerceLogger").logAuthEvent(c,h,null,a)},s=function(a){new(b("MessengerDiscoveryPluginTypedLogger"))().setAppID(c).setPageID(h).setUserFbid(l).setEvent(a).setName(b("MessengerDiscoveryPluginName").CHECKBOX_PLUGIN).logImmediately()},t=function(a){new(b("MessengerDiscoveryPluginTypedLogger"))().setAppID(c).setPageID(h).setEvent(a).setName(b("MessengerDiscoveryPluginName").CHECKBOX_PLUGIN).logImmediately()},u=function(a){a.target.checked=!1,q(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_LOGIN),p({event:"login",user_ref:m,ref:e}),o(a)},v=function(a){q(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_NOTYOU),p({event:"not_you",user_ref:m,ref:e}),o(a)};g!=null&&a(g,v);var w=null;a=new(b("IntersectionObserver"))(function(a,c){a.forEach(function(a){var c=b("intersectionObserverEntryIsIntersecting")(a);c&&a.intersectionRatio===1?w=!0:!c&&a.intersectionRatio===0&&(w===null&&j&&(r(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_RENDERED_OUT_OF_VIEW),t(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_RENDERED_OUT_OF_VIEW)),w=!1)})},{threshold:[0,1]});a.observe(f);g=function(a){a.target.checked?(i.value=b("MessengerPrecheckedPluginCheckboxState").CHECKED,q(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED),s(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED),w||(q(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED_OUT_OF_VIEW),s(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_CHECKED_OUT_OF_VIEW))):(i.value=b("MessengerPrecheckedPluginCheckboxState").UNCHECKED,q(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_UNCHECKED),s(b("MNCommerceLoggerEvents").MESSENGER_PRECHECKED_UNCHECKED)),b("FormSubmit").send(f),p({event:"checkbox",user_ref:m,ref:e,state:i.value})};!k?n(d,u):n(d,g)};e.exports=a}),null);